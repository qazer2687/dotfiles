@define-color darkest #0d0d0d;
@define-color darker #1a1a1a;
@define-color base #2d2d2d;
@define-color lighter #404040;
@define-color lightest #999999;
@define-color text #b8b8b8;

@define-color warnText #e37171;

* {
    font-family: "Departure Mono", "FiraCode Mono Nerd Font";
    font-size: 11px;
    background-color: transparent;
}
/* Base styles */
window#waybar {
    background-color: #000000;
    border-radius: 0;
}
/* Common module styling */
#memory,
#custom-power,
#battery,
#backlight,
#pulseaudio,
#network,
#cpu,
#temperature,
#disk,
#mpris,
#tray {
    margin: 2px 1px;
    padding: 3px 6px;
    border-radius: 0;
    color: @text;
    background-color: @base;
    border: 1px solid;
    border-color: @lightest @darkest @darkest @lightest;
    box-shadow: inset 1px 1px 0px rgba(255, 255, 255, 0.1), inset -1px -1px 0px rgba(0, 0, 0, 0.3);
    font-weight: normal;
}
/* Special module styling */
#mpris {
    background-color: @base;
    color: @text;
    border: 1px solid;
    border-color: @lightest @darkest @darkest @lightest;
}

/* Hide unused dwl tags */
/*
#tags button:not(.occupied):not(.focused) {
    color: transparent;
    background-color: transparent;
    border: none;
    box-shadow: none;
}
*/

/* Base styling for workspace/tag buttons */
#tags button {
    all: initial;
    min-width: 0;
    padding: 4px 8px;
    border-radius: 0;
    color: @text;
    background-color: @darker;
    border: 1px solid;
    border-color: @lightest @darkest @darkest @lightest;
    box-shadow: inset 1px 1px 0px rgba(255, 255, 255, 0.1), inset -1px -1px 0px rgba(0, 0, 0, 0.3);
    margin: 2px 1px;
}

/* Focused tags and active/focused workspaces */
#tags button.focused {
    color: @text;
    border-color: @darkest @lightest @lightest @darkest;
    box-shadow: inset -1px -1px 0px rgba(255, 255, 255, 0.1), inset 1px 1px 0px rgba(0, 0, 0, 0.3);
}

/* Occupied but NOT focused */
#tags button.occupied:not(.focused) {
    background-color: @base;
}
/* Base styling for workspace/tag buttons */
#tags button {
    all: initial;
    min-width: 0;
    padding: 4px 8px;
    border-radius: 0;
    color: @text;
    background-color: @darker;
    border: 1px solid;
    border-color: @lightest @darkest @darkest @lightest;
    box-shadow: inset 1px 1px 0px rgba(255, 255, 255, 0.1), inset -1px -1px 0px rgba(0, 0, 0, 0.3);
    margin: 2px 1px;
}

/* Focused tags and active/focused workspaces */
#tags button.focused {
    color: @text;
    border-color: @darkest @lightest @lightest @darkest;
    box-shadow: inset -1px -1px 0px rgba(255, 255, 255, 0.1), inset 1px 1px 0px rgba(0, 0, 0, 0.3);
}

/* Occupied but NOT focused */
#tags button.occupied:not(.focused) {
  background-color: @base;
}

#tags button.occupied {
  box-shadow: inset 0px 0px 0px 4px crimson;
}



#battery {
  margin-right: 16px;
}
#clock {
    margin: 2px 1px 2px 16px;
    padding: 4px 8px;
    border-radius: 0;
    background-color: @base;
    color: @text;
    border: 1px solid;
    border-color: @lightest @darkest @darkest @lightest;
    box-shadow: inset 1px 1px 0px rgba(255, 255, 255, 0.1), inset -1px -1px 0px rgba(0, 0, 0, 0.3);
    font-weight: normal;
}

@keyframes quick-switch-blink {
  0% {
    color: @text; /* State 1: Original text color */
  }
  100% {
    color: @warnText; /* State 2: Warning text color */
  }
}

/* Battery level colors */
#battery.warning {
  animation-name: quick-switch-blink;
  animation-duration: 1s; /* Super fast blink */
  animation-timing-function: steps(1); /* Instant switch between colors */
  animation-iteration-count: infinite; /* Blink forever */
  animation-direction: alternate; /* Flashes from @text to @warnText and back */
  color: @text;
}
#battery.critical {
  animation-name: quick-switch-blink;
  animation-duration: 1s; /* Super fast blink */
  animation-timing-function: steps(1); /* Instant switch between colors */
  animation-iteration-count: infinite; /* Blink forever */
  animation-direction: alternate; /* Flashes from @text to @warnText and back */
  color: @text;
}
/* Network disconnected */
#network.disconnected {
    color: @text;
}
/* Temperature warning */
#temperature.critical {
    color: #cc4444;
}